# PDF/UA-1 Specific Roles
# Adapted from "Tagged PDF Best Practices Guide: Syntax" v1.0.1 2023-01
# <https://pdfa.org/resource/tagged-pdf-best-practice-guide-syntax/>
#
# Note: parent_must_be constraints are supported but not used in this schema.
# All parent-child relationships are expressed via allowed_children for
# consistency.

roles:
  Annot:
    allowed_children: [Span]

  Art:
    allowed_children: [BlockQuote, Caption, Div, Figure, H1, H2, H3, H4, H5, H6, L, Note, P, Sect, Table, TOC]

  BibEntry:
    allowed_children: [Span]

  BlockQuote:
    allowed_children: [P, Span]

  Caption:
    allowed_children: [Span, P]

  Code:
    allowed_children:

  Div:
    allowed_children: [BlockQuote, Caption, Div, Figure, H1, H2, H3, H4, H5, H6, L, Link, Note, P, Sect, Table, TOC]

  Document:
    allowed_children: [Art, BlockQuote, Caption, Div, Figure, H1, H2, H3, H4, H5, H6, Index, L, Note, P, Part, Sect, Table, TOC]

  Figure:
    allowed_children: [Caption, Lbl]

  Form:
    allowed_children:

  Formula:
    allowed_children: [Caption, Lbl]

  H1:
    allowed_children: [Lbl, Span, Note, Reference]

  H2:
    allowed_children: [Lbl, Span, Note, Reference]

  H3:
    allowed_children: [Lbl, Span, Note, Reference]

  H4:
    allowed_children: [Lbl, Span, Note, Reference]

  H5:
    allowed_children: [Lbl, Span, Note, Reference]

  H6:
    allowed_children: [Lbl, Span, Note, Reference]

  Index:
    allowed_children: [L, P]

  L:
    required_children: [LI]
    allowed_children: [Caption, LI]

  Lbl:
    allowed_children: [Span]

  LBody:
    allowed_children: [Code, Figure, Formula, L, Link, Note, Quote, P, Reference, Span]

  LI:
    allowed_children: [Lbl, LBody]

  Link:
    allowed_children: [Figure, Lbl, P, Span]

  Note:
    allowed_children: [L, Lbl, P, Figure, Caption]

  P:
    allowed_children: [Annot, BibEntry, Code, Figure, Formula, Link, Note, Quote, Reference, Span]

  Part:
    allowed_children: [BlockQuote, Caption, Div, Figure, H1, H2, H3, H4, H5, H6, L, Link, Note, P, Sect, Table]

  Quote:
    allowed_children: [Span]

  Reference:
    allowed_children: [Lbl, Span]
  # Link is also allowed, but Acrobat's autotag abuses that, so need to mark it

  Sect:
    allowed_children: [BlockQuote, Caption, Div, Figure, H1, H2, H3, H4, H5, H6, L, Note, P, Sect, Table]

  Span:
    allowed_children: [Link, Span]

  Table:
    allowed_children: [Caption, TR, THead, TBody, TFoot]

  TBody:
    allowed_children: [TR]

  TD:
    allowed_children: [P, Span]

  TFoot:
    allowed_children: [TR]

  TH:
    allowed_children: [P, Span]

  THead:
    allowed_children: [TR]

  TOC:
    allowed_children: [Caption, TOC, TOCI]

  TOCI:
    allowed_children: [Lbl, P, Span]

  TR:
    allowed_children: [TH, TD]
